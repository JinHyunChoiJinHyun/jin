
/* Reset & 기본 설정 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Noto Sans KR", sans-serif;
  background-color: var(--background-color);
  color: var(--text-color);
  line-height: 1.6;
  transition:
    background-color 0.3s,
    color 0.3s;
  color-scheme: var(--color-scheme); /* OS 테마에 따른 기본 UI 요소 색상 조정 */
}

a {
  text-decoration: none;
  color: inherit;
}

:root {
  /* 기본 레이아웃 변수 */
  --navbar-height: 76px;
  --page-top-bottom-margin: 20px;
  --sticky-content-height: calc(100vh - var(--navbar-height) - (2 * var(--page-top-bottom-margin)));
  --main-sticky-panel-top: calc(var(--navbar-height) + 4px);
  --main-sticky-panel-height: calc(100vh - var(--main-sticky-panel-top) - var(--page-top-bottom-margin));

  /* 색상 변수 - 라이트 모드 기본값 */
  --primary-color: #3861fb; /* 기존 주 사용 파란색 */
  --primary-hover-color: #2c4cc2; /* primary-color의 호버 시 어두운 버전 */
  --primary-focus-shadow-color: rgba(56, 97, 251, 0.15); /* 포커스 시 그림자 색상 */
  --accent-color: #03c75a; /* 네이버 그린 계열 또는 다른 강조색 */
  --profit-color: #4CAF50;
  --loss-color: #F44336;

  --background-color: #f4f5f6;      /* 전체 페이지 배경 */
  --card-bg-color: #ffffff;         /* 카드, 패널 등 콘텐츠 영역 배경 */
  --input-bg-color: #ffffff;        /* 입력 필드 배경 */
  --input-border-color: #dce0e2;    /* 입력 필드 테두리 */
  --border-color: #e9edf3;          /* 일반적인 구분선, 테두리 */
  --text-color: #333;               /* 기본 텍스트 */
  --text-secondary-color: #555;     /* 보조 텍스트 (약간 연하게) */
  --text-tertiary-color: #777;      /* 3차 텍스트 (더 연하게, placeholder 등) */
  
  --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); /* 일반 카드 그림자 */
  --inner-card-shadow: 0 1px 3px rgba(0,0,0,0.05); /* 카드 내부 요소 그림자 */
  
  --disabled-bg-color: #e9ecef;     /* 비활성 요소 배경 */
  --disabled-text-color: #6c757d;   /* 비활성 요소 텍스트 */
  --error-bg-color: rgba(220, 53, 69, 0.1); /* 오류 메시지 배경 */
  
  --color-scheme: light; /* 기본 색상 스킴 */
}

/* ========================================================================== */
/* === 다크모드 스타일 === */
/* ========================================================================== */
body.dark-mode {
  --primary-color: #4a7dff;
  --primary-hover-color: #3c6bdf;
  --primary-focus-shadow-color: rgba(74, 125, 255, 0.25);
  --accent-color: #00b350;
  --profit-color: #66bb6a;
  --loss-color: #ef5350;

  --background-color: #171924;    /* 어두운 페이지 배경 */
  --card-bg-color: #222531;       /* 어두운 카드 배경 */
  --input-bg-color: #2a2d3a;      /* 어두운 입력 필드 배경 */
  --input-border-color: #3e4150;  /* 어두운 입력 필드 테두리 */
  --border-color: #303340;        /* 어두운 구분선, 테두리 */
  --text-color: #e0e0e0;             /* 밝은 기본 텍스트 */
  --text-secondary-color: #a0a8c4;   /* 밝은 보조 텍스트 */
  --text-tertiary-color: #767c91;    /* 밝은 3차 텍스트 */

  --card-shadow: 0 2px 10px rgba(0,0,0,0.25); /* 어두운 모드 카드 그림자 */
  --inner-card-shadow: 0 1px 3px rgba(0,0,0,0.2);
  
  --disabled-bg-color: #3e4150;
  --disabled-text-color: #767c91;
  --error-bg-color: rgba(239, 83, 80, 0.15);
  
  --color-scheme: dark; /* 다크 모드 색상 스킴 */
}

/* Navbar 다크 모드 */
body.dark-mode .navbar {
  background: #1e202c;
  border-bottom: 1px solid #2a2d3a;
}
body.dark-mode .navbar .logo,
body.dark-mode .nav-links a {
  color: #e0e0e0;
}
body.dark-mode .nav-links a:hover {
  color: #a0a8c4;
}
body.dark-mode #theme-toggle {
  color: #e0e0e0;
}
body.dark-mode #theme-toggle:hover {
  background-color: rgba(224, 224, 224, 0.1);
}
body.dark-mode .search-login input[type="text"] {
  background-color: #2a2d3a;
  border-color: #3e4150;
  color: #e0e0e0;
}
body.dark-mode .search-login input[type="text"]::placeholder {
  color: #a0a8c4;
}
body.dark-mode .search-login button {
  background-color: var(--primary-color); /* 다크모드용 primary color */
}

/* MainPage Left/Right Panel 다크 모드 */
body.dark-mode .left-panel {
  background: var(--card-bg-color);
  color: var(--text-color);
}
body.dark-mode .left-panel h3 {
  color: var(--text-secondary-color);
}
body.dark-mode .coin-list-container::-webkit-scrollbar-thumb {
  background-color: #444;
}
body.dark-mode .coin-list-container::-webkit-scrollbar-thumb:hover {
  background-color: #555;
}
body.dark-mode .coin-list-container {
  scrollbar-color: #444 var(--card-bg-color);
}
body.dark-mode .coin-item {
  border-color: var(--border-color);
  background-color: #262936; /* left-panel 내부 카드이므로 약간 다르게 */
}
body.dark-mode .coin-item:hover {
  background-color: #2a2e3f;
  border-color: #3a3e4f;
}
body.dark-mode .coin-item-symbol {
  color: var(--text-secondary-color);
}
body.dark-mode .coin-item-name {
  color: var(--text-tertiary-color);
}
body.dark-mode .daily-weather-row {
  border-top-color: var(--border-color);
}
body.dark-mode .weather-day-label {
  color: var(--text-secondary-color);
}
body.dark-mode .analysis-note {
  background-color: var(--card-bg-color);
  color: var(--text-secondary-color);
  border-top-color: var(--border-color);
}
body.dark-mode .cta-buttons {
  background-color: var(--card-bg-color);
  border-top-color: var(--border-color);
}
body.dark-mode .cta-buttons button {
  background-color: var(--primary-color);
  color: white;
}
body.dark-mode .cta-buttons button:hover {
  background-color: var(--primary-hover-color);
}
body.dark-mode .right-panel {
  background: var(--background-color); /* 페이지 배경과 동일하게 */
}
body.dark-mode .market-cap-panel,
body.dark-mode .fear-greed-panel {
  background: var(--card-bg-color);
  color: var(--text-color);
  box-shadow: var(--card-shadow);
}
body.dark-mode .market-cap-title,
body.dark-mode .fear-greed-title {
  color: var(--text-secondary-color);
}
body.dark-mode .market-cap-value {
  color: var(--text-color);
}
body.dark-mode .market-cap-chart polyline {
  stroke: var(--accent-color); /* accent color 사용 */
}
body.dark-mode .fear-greed-value-small {
  color: var(--text-color);
}
body.dark-mode .fear-greed-status-small {
  color: var(--text-secondary-color);
}
body.dark-mode .fear-greed-emoji-display {
  color: var(--text-color);
}
body.dark-mode .fear-greed-value-display {
  color: var(--text-color);
}
body.dark-mode .fear-greed-status-display-text {
  color: var(--text-color);
}
body.dark-mode .fear-greed-indicator {
  background: #333747;
  border: 2px solid #5a5f73;
}
body.dark-mode .fear-greed-labels span {
  color: var(--text-secondary-color);
}

/* CoinDetail Page 다크 모드 */
body.dark-mode .coin-detail-sticky-left-panel {
  background: var(--card-bg-color);
  color: var(--text-color);
}
body.dark-mode .coin-detail-sticky-left-panel .coin-detail-price { color: var(--primary-color); }
body.dark-mode .coin-detail-sticky-left-panel .weather-forecast { background-color: #262936; border-color: var(--border-color); }
body.dark-mode .coin-detail-sticky-left-panel .day-forecast { color: var(--text-secondary-color); }
body.dark-mode .coin-detail-sticky-left-panel .technical-indicators { background-color: #262936; border-color: var(--border-color); }
body.dark-mode .coin-detail-sticky-left-panel .returns-info { background-color: #262936; border-color: var(--border-color); }
body.dark-mode .temp-info-placeholder { background-color: #2a2e3f; border-color: #3e4150;}
body.dark-mode .temp-info-placeholder h4 { color: var(--text-secondary-color);}
body.dark-mode .coin-detail-sticky-left-panel .coin-detail-buttons button { background-color: var(--primary-color); color: white; }
body.dark-mode .coin-detail-sticky-left-panel .coin-detail-buttons button:hover { background-color: var(--primary-hover-color); }
body.dark-mode .coin-detail-sticky-left-panel::-webkit-scrollbar-thumb { background-color: #444; }

body.dark-mode .combined-chart-area-moved,
body.dark-mode .usd-krw-chart-area-moved,
body.dark-mode .gold-price-chart-area-moved,
body.dark-mode .news-column-detail .news-posts-vertical-stack {
  background: var(--card-bg-color); color: var(--text-color);
}
body.dark-mode .combined-chart-area-moved .indicator-chart-container { border-top-color: var(--border-color); }
body.dark-mode .chart-header h3, body.dark-mode .indicator-chart-container h4 { color: var(--text-secondary-color); }
body.dark-mode .chart-options button, body.dark-mode .indicators-tabs button {
  background-color: var(--input-bg-color); border-color: var(--input-border-color); color: var(--text-secondary-color);
}
body.dark-mode .chart-options button.selected, body.dark-mode .indicators-tabs button.selected {
  background-color: var(--primary-color); border-color: var(--primary-color); color: white;
}
body.dark-mode .news-column-detail .news-posts-vertical-stack h3 { color: var(--text-secondary-color); }
body.dark-mode .news-column-detail .news-item, body.dark-mode .news-column-detail .post-item { border-bottom-color: var(--border-color); }
body.dark-mode .news-column-detail .news-time, body.dark-mode .news-column-detail .post-time { color: var(--text-tertiary-color); }
body.dark-mode .news-column-detail .posts-section-in-detail .more-link { color: var(--primary-color); }

/* Login Page 다크 모드 */
body.dark-mode .login-page-wrapper {
  background-color: var(--background-color);
}
body.dark-mode .login-form-container {
  background-color: var(--card-bg-color);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}
body.dark-mode .login-form-title { color: var(--text-color); }
body.dark-mode .login-form-description { color: var(--text-secondary-color); }
body.dark-mode .form-group label { color: var(--text-secondary-color); }
body.dark-mode .form-group input[type="email"],
body.dark-mode .form-group input[type="password"] {
  background-color: var(--input-bg-color); border-color: var(--input-border-color); color: var(--text-color);
}
body.dark-mode .form-group input[type="email"]:focus,
body.dark-mode .form-group input[type="password"]:focus {
  border-color: var(--primary-color); box-shadow: 0 0 0 3px var(--primary-focus-shadow-color);
}
body.dark-mode .caps-lock-warning { color: var(--loss-color); }
body.dark-mode .remember-me { color: var(--text-secondary-color); }
body.dark-mode .remember-me input[type="checkbox"] { accent-color: var(--primary-color); }
body.dark-mode .forgot-password-link { color: var(--primary-color); }
body.dark-mode .forgot-password-link:hover { color: var(--primary-hover-color); }
body.dark-mode .login-button.primary {
  background-color: var(--primary-color); box-shadow: 0 2px 5px var(--primary-focus-shadow-color);
}
body.dark-mode .login-button.primary:hover {
  background-color: var(--primary-hover-color); box-shadow: 0 3px 7px var(--primary-focus-shadow-color);
}
body.dark-mode .signup-prompt { color: var(--text-secondary-color); }
body.dark-mode .signup-prompt a { color: var(--primary-color); }
body.dark-mode .signup-prompt a:hover { color: var(--primary-hover-color); }

/* Discussion Page 다크 모드 (네이버 웍스 스타일 기반) */
body.dark-mode .discussion-container {
  background-color: #262936; /* 어두운 배경 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.24);
}
body.dark-mode .discussion-header h2 {
  color: #e0e0e0; /* 밝은 텍스트 */
}
body.dark-mode .discussion-tabs {
  border-bottom-color: #3e4150; /* 어두운 구분선 */
}
body.dark-mode .tab-button {
  color: #a0a8c4; /* 비활성 탭 (어두운 모드) */
}
body.dark-mode .tab-button:hover {
  color: var(--primary-color); /* 호버 (어두운 모드) */
}
body.dark-mode .tab-button.active {
  color: var(--primary-color); /* 활성 탭 (어두운 모드) */
  border-bottom-color: var(--primary-color);
}
body.dark-mode .coin-filter label {
  color: var(--text-secondary-color);
}
body.dark-mode .coin-filter select {
  background-color: var(--input-bg-color);
  border-color: var(--input-border-color);
  color: var(--text-color);
}
body.dark-mode .search-box input[type="text"] {
  background-color: var(--input-bg-color);
  border-color: var(--input-border-color);
  color: var(--text-color);
}
body.dark-mode .search-box input[type="text"]:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px var(--primary-focus-shadow-color);
}
body.dark-mode .search-box button {
  background-color: var(--primary-color); 
  border-color: var(--primary-color);
}
body.dark-mode .search-box button:hover {
  background-color: var(--primary-hover-color);
}
body.dark-mode .write-button { /* 글쓰기 버튼은 accent color 사용 가능 */
  background-color: var(--accent-color); 
}
body.dark-mode .write-button:hover {
  background-color: #009943; /* accent-color의 어두운 버전 */
}
body.dark-mode .post-item {
  background-color: #2f3241; /* 카드 배경 (어두운 모드) */
  border-color: #3e4150; /* 카드 테두리 (어두운 모드) */
}
body.dark-mode .post-item:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
body.dark-mode .post-author-avatar {
  background-color: #3e4150;
  color: #ced4da;
}
body.dark-mode .post-author-name {
  color: #f1f3f5;
}
body.dark-mode .post-date {
  color: #adb5bd;
}
body.dark-mode .post-item-coin-tag {
  background-color: #3e4150;
  color: #ced4da;
}
body.dark-mode .post-card-body .post-title {
  color: #f8f9fa;
}
body.dark-mode .post-card-body .post-excerpt {
  color: #ced4da;
}
body.dark-mode .post-card-footer {
  border-top-color: #3e4150;
  color: #adb5bd;
}
body.dark-mode .post-stats svg {
  fill: #adb5bd;
}
body.dark-mode .action-button {
  color: #adb5bd;
}
body.dark-mode .action-button:hover {
  color: var(--primary-color);
}
body.dark-mode .action-button:hover svg {
  fill: var(--primary-color);
}
body.dark-mode .action-button svg {
  fill: #adb5bd;
}
body.dark-mode .pagination a {
  color: #adb5bd;
  border-color: #3e4150;
}
body.dark-mode .pagination a:hover {
  background-color: #343a40;
  color: var(--primary-color);
}
body.dark-mode .pagination a.active {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
}
body.dark-mode .filter-message {
  background-color: var(--input-bg-color);
  color: var(--text-secondary-color);
  border-color: var(--input-border-color);
}

body.dark-mode .write-form-overlay .write-form { background-color: var(--card-bg-color); }
body.dark-mode .write-form h3 { color: var(--text-color); }
body.dark-mode .write-form label { color: var(--text-secondary-color); } /* 추가됨 */
body.dark-mode .write-form input[type="text"],
body.dark-mode .write-form textarea,
body.dark-mode .write-form select {
  background-color: var(--input-bg-color);
  border-color: var(--input-border-color);
  color: var(--text-color);
}
body.dark-mode .write-form input[type="text"]:focus, /* 추가됨 */
body.dark-mode .write-form textarea:focus, /* 추가됨 */
body.dark-mode .write-form select:focus { /* 추가됨 */
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px var(--primary-focus-shadow-color);
}
body.dark-mode .write-form .form-buttons .cancel-button {
  background-color: #4a4e59;
  color: #ced4da;
  border: 1px solid #5a5f73;
}
body.dark-mode .write-form .form-buttons .cancel-button:hover {
  background-color: #5a5f73;
}
body.dark-mode .write-form .form-buttons .submit-button {
  background-color: var(--primary-color);
}
body.dark-mode .write-form .form-buttons .submit-button:hover {
  background-color: var(--primary-hover-color);
}

/* PostDetail Page 다크 모드 */
body.dark-mode .post-detail-page-wrapper .error-message { background-color: var(--card-bg-color); color: var(--loss-color); }
body.dark-mode .back-to-list-button { background-color: var(--input-bg-color); color: var(--text-secondary-color); border-color: var(--input-border-color); }
body.dark-mode .back-to-list-button:hover { background-color: #495057; border-color: #5a6268; }
body.dark-mode .post-detail-container { background-color: var(--card-bg-color); box-shadow: var(--card-shadow); }
body.dark-mode .post-detail-header { border-bottom-color: var(--border-color); }
body.dark-mode .post-detail-coin-tag { background-color: var(--primary-color); color: white; }
body.dark-mode .post-detail-coin-tag:hover { background-color: var(--primary-hover-color); }
body.dark-mode .post-detail-title { color: var(--text-color); }
body.dark-mode .post-detail-meta { color: var(--text-secondary-color); }
body.dark-mode .post-detail-meta .post-author-name { color: var(--text-color); }
body.dark-mode .post-detail-content { color: var(--text-color); }
body.dark-mode .post-detail-actions { border-top-color: var(--border-color); }
body.dark-mode .comments-section { border-top-color: var(--border-color); }
body.dark-mode .comments-section h3 { color: var(--text-color); }
body.dark-mode .comment-form textarea { background-color: var(--input-bg-color); border-color: var(--input-border-color); color: var(--text-color); }
body.dark-mode .comment-form button[type="submit"] { background-color: var(--primary-color); }
body.dark-mode .comment-form button[type="submit"]:hover { background-color: var(--primary-hover-color); }
body.dark-mode .comments-list .no-comments { color: var(--text-secondary-color); }
body.dark-mode .comment-item { border-bottom-color: var(--border-color); }
body.dark-mode .comment-content { color: var(--text-secondary-color); }
body.dark-mode .prediction-tag.상승 { background-color: rgba(var(--profit-color-rgb, 76, 175, 80), 0.2); color: var(--profit-color); } /* 변수 사용 및 알파 추가 */
body.dark-mode .prediction-tag.하락 { background-color: rgba(var(--loss-color-rgb, 244, 67, 54), 0.2); color: var(--loss-color); }
body.dark-mode .prediction-tag.중립 { background-color: rgba(var(--text-tertiary-color-rgb, 118, 124, 145), 0.2); color: var(--text-tertiary-color); }


/* ========================================================================== */
/* === 네비게이션 바 === */
/* ========================================================================== */
.navbar {
  background: var(--card-bg-color); /* 변수 사용 */
  color: var(--text-color); /* 변수 사용 */
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding: 15px 0;
  z-index: 1000;
  border-bottom: 1px solid var(--border-color); /* 변수 사용 */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}
.navbar .container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.logo {
  font-size: 1.6em;
  font-weight: bold;
  cursor: pointer;
  color: var(--text-color); /* 로고 색상도 변수 따르도록 */
}
.nav-links {
  display: flex;
  gap: 28px;
}
.nav-links a {
  color: var(--text-color);
  font-weight: 500;
  transition: color 0.2s ease;
  font-size: 0.95em;
}
.nav-links a:hover {
  color: var(--primary-color); /* primary color 사용 */
}
.search-login {
  display: flex;
  align-items: center;
  gap: 12px;
}
.search-login input[type="text"] {
  padding: 8px 12px;
  border: 1px solid var(--input-border-color); /* 변수 사용 */
  border-radius: 20px;
  font-size: 0.9em;
  background-color: var(--input-bg-color); /* 변수 사용 */
  color: var(--text-color); /* 변수 사용 */
}
.search-login input[type="text"]::placeholder {
  color: var(--text-tertiary-color); /* 변수 사용 */
}
#navbar-login-button {
  margin-left: 10px;
}
.search-login button {
  padding: 8px 16px;
  border: none;
  border-radius: 20px;
  background-color: var(--primary-color); /* primary color 사용 */
  color: white;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.9em;
}
#theme-toggle {
  background: none;
  border: none;
  font-size: 1.4em;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 50%;
  transition: background-color 0.3s;
  color: var(--text-color);
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
#theme-toggle:hover {
  background-color: rgba(0, 0, 0, 0.05); /* 이건 라이트 모드 기준, 다크모드에서 조정될 수 있음 */
}
body.dark-mode #theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1); /* 다크모드 호버 */
}


/* ========================================================================== */
/* === 메인 페이지 (MainPage.js) === */
/* ========================================================================== */
#app {
  padding-top: var(--navbar-height);
}
.main-content {
  display: flex;
  flex-direction: row;
  gap: 20px;
  width: 75%;
  max-width: 1200px;
  margin: var(--page-top-bottom-margin) auto;
  align-items: flex-start;
}

.left-panel {
  flex: 1;
  background: var(--card-bg-color);
  border-radius: 12px;
  box-shadow: var(--card-shadow);
  display: flex;
  flex-direction: column;
  position: -webkit-sticky;
  position: sticky;
  top: var(--main-sticky-panel-top);
  height: var(--main-sticky-panel-height);
  overflow: hidden;
}

.left-panel h3 {
  font-size: 1.1em;
  margin-bottom: 15px;
  color: var(--text-secondary-color);
  flex-shrink: 0;
  padding: 20px 20px 0 20px;
}

.coin-list-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0 20px 20px 20px;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.2) transparent; /* 라이트모드 스크롤바 */
}
body.dark-mode .coin-list-container {
  scrollbar-color: #444 var(--card-bg-color); /* 다크모드 스크롤바 */
}
.coin-list-container:hover {
  scrollbar-color: #ccc var(--background-color); /* 호버 시 Firefox 스크롤바 */
}
body.dark-mode .coin-list-container:hover {
  scrollbar-color: #555 var(--card-bg-color);
}

.coin-list-container::-webkit-scrollbar {
  width: 8px;
}
.coin-list-container::-webkit-scrollbar-track {
  background: transparent;
}
.coin-list-container::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 10px;
}
.coin-list-container:hover::-webkit-scrollbar-thumb {
  background-color: rgba(0,0,0,0.2); /* 라이트모드 */
}
body.dark-mode .coin-list-container:hover::-webkit-scrollbar-thumb {
  background-color: #444; /* 다크모드 */
}
.coin-list-container::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0,0,0,0.3); /* 라이트모드 */
}
body.dark-mode .coin-list-container:hover::-webkit-scrollbar-thumb:hover {
  background-color: #555; /* 다크모드 */
}

.coin-item {
  padding: 12px;
  border-radius: 8px;
  transition: all 0.2s ease;
  border: 1px solid var(--border-color);
  background-color: #fdfdff; /* left-panel 카드 배경과 살짝 다르게 */
}
body.dark-mode .coin-item {
  background-color: #262936; /* 위에서 정의됨 */
}
.coin-item:hover {
  background-color: #f0f4ff;
  border-color: #d0d9f0;
  transform: translateY(-2px);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}
body.dark-mode .coin-item:hover {
  background-color: #2a2e3f; /* 위에서 정의됨 */
  border-color: #3a3e4f;
}
.coin-info-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.coin-symbol-name {
  display: flex;
  align-items: baseline;
  font-weight: 500;
}
.coin-item-symbol {
  font-weight: bold;
  font-size: 1.05em;
  color: var(--text-color);
  margin-right: 4px;
}
.coin-item-name {
  font-size: 0.8em;
  color: var(--text-tertiary-color);
}
.coin-price {
  font-size: 0.95em;
  font-weight: 500;
  color: var(--text-color);
}
.coin-change {
  font-size: 0.9em;
  font-weight: 500;
  min-width: 60px;
  text-align: right;
}
.daily-weather-row {
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px dashed var(--border-color);
}
.weather-day-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  font-size: 0.8em;
  min-width: 50px;
}
.weather-day-label {
  font-weight: 500;
  margin-bottom: 4px;
  color: var(--text-secondary-color);
  font-size: 0.9em;
}
.weather-day-icon {
  font-size: 1.5em;
}

.analysis-note {
  font-size: 0.75em;
  color: var(--text-tertiary-color);
  text-align: center;
  padding: 10px 20px;
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
  background-color: var(--card-bg-color);
}

.cta-buttons {
  display: flex;
  gap: 10px;
  padding: 15px 20px 20px 20px;
  background-color: var(--card-bg-color);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}
.cta-buttons button {
  flex-grow: 1;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background-color: var(--primary-color);
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.2s;
}
.cta-buttons button:hover {
  background-color: var(--primary-hover-color);
}

.right-panel {
  flex: 2;
  display: flex;
  flex-direction: column;
  gap: 20px;
  position: -webkit-sticky;
  position: sticky;
  top: var(--main-sticky-panel-top);
  align-self: flex-start;
  height: var(--main-sticky-panel-height);
  overflow-y: auto;
  background: var(--background-color);
  border-radius: 12px;
  padding: 0;
}
.market-cap-panel,
.fear-greed-panel {
  position: static;
  background: var(--card-bg-color);
  border-radius: 12px;
  padding: 20px;
  box-shadow: var(--card-shadow);
  color: var(--text-color);
}
.market-cap-panel {
  min-height: 260px;
  display: flex;
  flex-direction: column;
}
.fear-greed-panel {
  min-height: 180px;
  display: flex;
  flex-direction: column;
}
.market-cap-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  flex-shrink: 0;
}
.market-cap-title {
  font-weight: bold;
  font-size: 0.9em;
  color: var(--text-secondary-color);
}
.market-cap-value-container {
  text-align: right;
}
.market-cap-value {
  font-size: 1.3em;
  font-weight: bold;
  color: var(--text-color);
}
.market-cap-change {
  font-size: 0.9em;
  font-weight: bold;
}
.market-cap-chart {
  width: 100%;
  flex-grow: 1;
}
.market-cap-chart polyline {
  stroke: var(--accent-color); /* accent color 사용 */
  fill: none;
  stroke-width: 1;
}
.fear-greed-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  flex-shrink: 0;
}
.fear-greed-title {
  font-weight: bold;
  font-size: 0.9em;
  color: var(--text-secondary-color);
  flex-grow: 1;
}
.fear-greed-current-value-status {
  text-align: right;
  font-size: 0.8em;
}
.fear-greed-value-small {
  font-weight: bold;
  color: var(--text-color);
}
.fear-greed-status-small {
  color: var(--text-secondary-color);
}
.fear-greed-content {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-grow: 1;
  width: 100%;
}
.fear-greed-info {
  flex: 0 0 20%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-right: 10px;
}
.fear-greed-emoji-display {
  font-size: 3em;
  line-height: 1;
  margin-bottom: 8px;
  color: var(--text-color);
}
.fear-greed-value-display {
  font-size: 1.5em;
  font-weight: bold;
  margin-bottom: 4px;
  color: var(--text-color);
}
.fear-greed-status-display-text {
  font-size: 1.1em;
  font-weight: bold;
  color: var(--text-secondary-color); /* 상태 텍스트는 보조 색상 */
}
.fear-greed-graph {
  flex: 1 1 80%;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.fear-greed-gauge {
  position: relative;
  width: 100%;
  height: 12px;
  background: linear-gradient(to right, #ff3b30, #ffc107, #4caf50);
  border-radius: 6px;
  margin-bottom: 10px;
}
.fear-greed-indicator {
  position: absolute;
  width: 20px;
  height: 20px;
  background: var(--card-bg-color); /* 게이지 침 배경 */
  border: 2px solid var(--border-color); /* 게이지 침 테두리 */
  border-radius: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}
.fear-greed-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.8em;
  color: var(--text-tertiary-color);
}
.fear-greed-labels span {
  flex: 1;
  text-align: center;
}
.fear-greed-labels span:first-child { text-align: left; }
.fear-greed-labels span:last-child { text-align: right; }


/* ========================================================================== */
/* === 코인 상세 페이지 (CoinDetail.js) === */
/* ========================================================================== */
.coin-detail-page-wrapper {
  max-width: 1600px;
  margin: var(--page-top-bottom-margin) auto;
  padding: 0 20px;
  display: flex;
  gap: 20px;
  align-items: flex-start;
}
.coin-detail-sticky-left-panel {
  flex: 0 0 350px;
  position: sticky;
  top: calc(var(--navbar-height) + var(--page-top-bottom-margin));
  height: var(--sticky-content-height);
  overflow-y: auto;
  background: var(--card-bg-color);
  border-radius: 12px;
  padding: 20px;
  box-shadow: var(--card-shadow);
  display: flex;
  flex-direction: column;
  gap: 18px;
  color: var(--text-color);
}
.temp-info-placeholder {
  padding: 15px;
  background-color: var(--background-color); /* 페이지 배경과 유사하게 */
  border-radius: 8px;
  border: 1px dashed var(--border-color);
  min-height: 80px;
  font-size: 0.9em;
}
.temp-info-placeholder h4 { margin-bottom: 8px; color: var(--text-secondary-color); }
.temp-info-placeholder p { margin-bottom: 8px; line-height: 1.5; }
.temp-info-placeholder ul { padding-left: 20px; margin-bottom: 0; }
.coin-detail-sticky-left-panel .coin-detail-header { display: flex; justify-content: space-between; align-items: center; }
.coin-detail-sticky-left-panel .coin-detail-header h2 { font-size: 1.5em; display: flex; align-items: center; }
.coin-detail-sticky-left-panel .coin-graphic-symbol-detail { margin-right: 8px; font-size: 1em; line-height: 1;}
.coin-detail-sticky-left-panel .coin-detail-price { font-size: 1.2em; font-weight: bold; color: var(--primary-color); }
.coin-detail-sticky-left-panel .weather-forecast { display: flex; justify-content: space-around; padding: 10px; background-color: var(--background-color); border-radius: 8px; border: 1px solid var(--border-color); }
.coin-detail-sticky-left-panel .day-forecast { text-align: center; font-size: 0.85em; color: var(--text-secondary-color); }
.coin-detail-sticky-left-panel .technical-indicators { padding: 10px; background-color: var(--background-color); border-radius: 8px; border: 1px solid var(--border-color); font-size: 0.9em; }
.coin-detail-sticky-left-panel .returns-info { display: flex; justify-content: space-around; padding: 10px; background-color: var(--background-color); border-radius: 8px; border: 1px solid var(--border-color); }
.coin-detail-sticky-left-panel .return-item { font-size: 0.9em; }
.coin-detail-sticky-left-panel .coin-detail-buttons { display: flex; gap: 10px; margin-top: auto; }
.coin-detail-sticky-left-panel .coin-detail-buttons button { flex-grow: 1; padding: 10px; border: none; border-radius: 8px; background-color: var(--primary-color); color: white; font-weight: bold; cursor: pointer; transition: background-color 0.2s; }
.coin-detail-sticky-left-panel .coin-detail-buttons button:hover { background-color: var(--primary-hover-color); }
.coin-detail-sticky-left-panel::-webkit-scrollbar { width: 6px; }
.coin-detail-sticky-left-panel::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 3px; }
body.dark-mode .coin-detail-sticky-left-panel::-webkit-scrollbar-thumb { background-color: #444; }

.coin-detail-right-content-area {
  flex: 1;
  display: flex;
  gap: 20px;
  align-items: flex-start;
  min-width: 0;
}
.coin-chart-column { flex: 2.5; display: flex; flex-direction: column; min-width: 0; }
.other-assets-column {
  flex: 1.5;
  display: flex;
  flex-direction: column;
  gap: 20px;
  min-width: 0;
  height: var(--sticky-content-height);
}
.news-column-detail { flex: 1.2; display: flex; flex-direction: column; min-width: 0; }

.combined-chart-area-moved,
.usd-krw-chart-area-moved,
.gold-price-chart-area-moved,
.news-column-detail .news-posts-vertical-stack {
  background: var(--card-bg-color);
  border-radius: 12px;
  padding: 20px;
  box-shadow: var(--card-shadow);
  display: flex;
  flex-direction: column;
  height: var(--sticky-content-height);
  overflow-y: auto;
  min-height: 300px;
  color: var(--text-color);
}
.combined-chart-area-moved .price-chart-container {
  flex: 2;
}
.combined-chart-area-moved .indicator-chart-container {
  flex: 1;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border-color);
}
.usd-krw-chart-area-moved,
.gold-price-chart-area-moved {
  flex: 1;
  min-height: 0;
}
.canvas-wrapper {
  position: relative;
  flex-grow: 1;
  width: 100%;
  min-height: 0;
}
.canvas-wrapper canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.chart-header { margin-bottom: 10px; }
.chart-header h3 { font-size: 1.0em; color: var(--text-secondary-color); }
.indicator-chart-container h4 { margin-bottom: 10px; font-size: 0.9em; color: var(--text-secondary-color); }
.chart-options, .indicators-tabs { display: flex; gap: 6px; margin-bottom: 10px; flex-wrap: wrap; }
.chart-options button, .indicators-tabs button {
  padding: 5px 10px; border: 1px solid var(--input-border-color); border-radius: 15px; background-color: var(--input-bg-color);
  cursor: pointer; font-size: 0.8em; transition: all 0.2s; color: var(--text-secondary-color);
}
.chart-options button.selected, .indicators-tabs button.selected {
  background-color: var(--primary-color); color: white; border-color: var(--primary-color);
}
.news-column-detail .news-posts-vertical-stack h3 { margin-bottom: 10px; font-size: 1.05em; color: var(--text-secondary-color); }
.news-column-detail .news-section-in-detail,
.news-column-detail .posts-section-in-detail { width: 100%; }
.news-column-detail .news-list, .news-column-detail .posts-list { list-style: none; padding: 0; margin: 0; }
.news-column-detail .news-item, .news-column-detail .post-item { padding: 8px 0; border-bottom: 1px solid var(--border-color); }
.news-column-detail .news-item:last-child, .news-column-detail .post-item:last-child { border-bottom: none; }
.news-column-detail .news-title, .news-column-detail .post-title { font-weight: 500; margin-bottom: 4px; font-size:0.9em; }
.news-column-detail .news-time, .news-column-detail .post-time { font-size: 0.8em; color: var(--text-tertiary-color); }
.news-column-detail .posts-section-in-detail .more-link { display: block; margin-top: 10px; text-align: right; color: var(--primary-color); font-weight: 500; font-size:0.85em;}


/* ========================================================================== */
/* === 로그인 페이지 (Login.js) === */
/* ========================================================================== */
.login-page-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - var(--navbar-height));
  padding: 40px 20px;
  background-color: var(--background-color);
}
.login-form-container {
  background-color: var(--card-bg-color);
  padding: 40px 45px;
  border-radius: 12px;
  box-shadow: var(--card-shadow);
  width: 100%;
  max-width: 420px;
  text-align: center;
}
.login-form-title {
  font-size: 2em;
  font-weight: 700;
  color: var(--text-color);
  margin-bottom: 10px;
}
.login-form-description {
  font-size: 0.95em;
  color: var(--text-secondary-color);
  margin-bottom: 30px;
}
.form-group {
  margin-bottom: 20px;
  text-align: left;
}
.form-group label {
  display: block;
  font-weight: 500;
  margin-bottom: 8px;
  font-size: 0.9em;
  color: var(--text-secondary-color);
}
.form-group input[type="email"],
.form-group input[type="password"] {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid var(--input-border-color);
  border-radius: 6px;
  font-size: 1em;
  transition: border-color 0.2s, box-shadow 0.2s;
  background-color: var(--input-bg-color);
  color: var(--text-color);
}
.form-group input[type="email"]:focus,
.form-group input[type="password"]:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px var(--primary-focus-shadow-color);
  outline: none;
}
.caps-lock-warning {
  font-size: 0.8em;
  color: var(--loss-color);
  margin-top: 5px;
}
.extra-options {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  font-size: 0.85em;
}
.remember-me {
  color: var(--text-secondary-color);
  display: flex;
  align-items: center;
}
.remember-me input[type="checkbox"] {
  margin-right: 6px;
  accent-color: var(--primary-color);
}
.forgot-password-link {
  color: var(--primary-color);
  text-decoration: none;
  transition: color 0.2s;
}
.forgot-password-link:hover {
  color: var(--primary-hover-color);
  text-decoration: underline;
}
.login-button.primary {
  width: 100%;
  padding: 14px 20px;
  font-size: 1em;
  font-weight: 500;
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 5px var(--primary-focus-shadow-color);
}
.login-button.primary:hover {
  background-color: var(--primary-hover-color);
  box-shadow: 0 3px 7px var(--primary-focus-shadow-color);
}
.signup-prompt {
  margin-top: 30px;
  font-size: 0.9em;
  color: var(--text-secondary-color);
}
.signup-prompt a {
  color: var(--primary-color);
  font-weight: 500;
  text-decoration: none;
}
.signup-prompt a:hover {
  text-decoration: underline;
}

/* ========================================================================== */
/* === 수익률 예측 시뮬레이션 페이지 (InvestmentSimulation.js) === */
/* ========================================================================== */

.simulation-page-container {
  max-width: 900px; /* 콘텐츠 최대 너비 */
  margin: 30px auto;
  padding: 24px;
  background-color: var(--background-color);
  border-radius: 8px;
  box-shadow: var(--card-shadow);
  color: var(--text-color);
}

.simulation-page-container .page-header {
  text-align: center;
  margin-bottom: 30px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 20px;
}

.simulation-page-container .page-header h2 {
  font-size: 1.8em;
  color: var(--primary-color);
  margin-bottom: 8px;
}

.simulation-page-container .page-header p {
  font-size: 0.95em;
  color: var(--text-secondary-color);
}

.simulation-form-container {
  background-color: var(--card-bg-color);
  padding: 24px;
  border-radius: 8px;
  margin-bottom: 30px;
  box-shadow: var(--inner-card-shadow, 0 1px 3px rgba(0,0,0,0.05));
}

.simulation-form-container .form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* 반응형 그리드 */
  gap: 20px;
  margin-bottom: 24px;
}

.simulation-form-container .form-group {
  display: flex;
  flex-direction: column;
}

.simulation-form-container label {
  font-size: 0.85em;
  font-weight: 500;
  margin-bottom: 6px;
  color: var(--text-tertiary-color);
}

.simulation-form-container input[type="number"],
.simulation-form-container select {
  padding: 10px 12px;
  border: 1px solid var(--input-border-color);
  border-radius: 6px;
  font-size: 0.9em;
  background-color: var(--input-bg-color);
  color: var(--text-color);
  transition: border-color 0.2s, box-shadow 0.2s;
}

.simulation-form-container input[type="number"]:focus,
.simulation-form-container select:focus {
  border-color: var(--primary-hover-color);
  box-shadow: 0 0 0 3px var(--primary-focus-shadow-color);
  outline: none;
}

.simulation-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  max-width: 280px;
  margin: 0 auto;
  padding: 10px 18px;
  font-size: 0.95em;
  font-weight: 500;
  color: #fff;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover-color) 100%);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.1s ease-in-out, background 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.simulation-button:hover {
  background: linear-gradient(135deg, var(--primary-hover-color) 0%, var(--primary-color) 100%); /* 약간 반전된 느낌 */
  transform: translateY(-1px);
  box-shadow: 0 4px 8px var(--primary-focus-shadow-color);
}

.simulation-button:active {
  transform: translateY(0px);
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.simulation-button:disabled {
  background: var(--disabled-bg-color);
  color: var(--disabled-text-color);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.simulation-button .spinner-sm {
  width: 1em;
  height: 1em;
  border-width: .15em;
  margin-right: 8px;
}

.simulation-results-area {
  margin-top: 20px;
  padding: 20px;
  background-color: var(--card-bg-color);
  border-radius: 8px;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.initial-info-container {
  text-align: center;
  padding: 30px;
  color: var(--text-secondary-color);
}
.initial-info-icon {
  margin-bottom: 20px;
  color: var(--primary-color);
}
.initial-info-icon svg {
  width: 56px;
  height: 56px;
}
.initial-info-container h3 {
  font-size: 1.3em;
  color: var(--text-color);
  margin-bottom: 12px;
}
.initial-info-container p {
  font-size: 0.95em;
  line-height: 1.6;
  margin-bottom: 15px;
  max-width: 500px;
}
.initial-info-container small {
  font-size: 0.8em;
  color: var(--text-tertiary-color);
}

.loading-indicator {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-secondary-color);
}
.loading-indicator .spinner-lg {
  width: 3rem;
  height: 3rem;
  border-width: .3em;
  color: var(--primary-color);
  margin-bottom: 15px;
}
.loading-indicator p {
  font-size: 1em;
}

.prediction-container { /* 시뮬레이션 결과 컨테이너 */
  width: 100%;
  text-align: left;
}

.prediction-container h3 {
  text-align: center;
  font-size: 1.5em;
  color: var(--primary-color);
  margin-bottom: 25px;
}

.prediction-container .result-summary {
  margin-bottom: 20px;
}
.prediction-container .result-summary > p {
  font-weight: 600;
  font-size: 1.1em;
  margin-bottom: 15px;
  color: var(--text-color);
}

.prediction-container .result-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 15px;
}

.prediction-container .result-item {
  background-color: var(--background-color);
  padding: 15px;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
}

.prediction-container .result-label {
  font-size: 0.85em;
  color: var(--text-secondary-color);
  margin-bottom: 5px;
}

.prediction-container .result-value {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-color);
}

.prediction-container .result-value.highlight-value {
  color: var(--primary-color);
  font-size: 1.3em;
}

.prediction-container .result-value.profit {
  color: var(--profit-color);
}

.prediction-container .result-value.loss {
  color: var(--loss-color);
}

.prediction-container .disclaimer {
  margin-top: 25px;
  padding-top: 15px;
  border-top: 1px solid var(--border-color);
  font-size: 0.8em;
  text-align: center;
  color: var(--text-tertiary-color);
}

.error-message {
  color: var(--loss-color);
  background-color: var(--error-bg-color);
  padding: 10px 15px;
  border-radius: 6px;
  margin-bottom: 20px;
  text-align: center;
  font-size: 0.9em;
}


/* ========================================================================== */
/* === 토론방 페이지 (Discussion.js) - 네이버 웍스 스타일 적용 === */
/* ========================================================================== */

.discussion-container {
  max-width: 880px;
  margin: 30px auto;
  padding: 24px;
  background-color: var(--card-bg-color); /* 네이버 웍스는 White 테마, 다크모드도 고려 */
  border-radius: 8px;
  box-shadow: var(--card-shadow);
}

.discussion-header h2 {
  font-size: 1.75em;
  color: var(--text-color);
  margin-bottom: 20px;
  font-weight: 600;
}

.discussion-tabs {
  margin-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}

.tab-button {
  padding: 12px 16px;
  font-size: 0.95em;
  font-weight: 500;
  color: var(--text-secondary-color); /* 비활성 탭 색상 */
  border: none;
  background-color: transparent;
  border-bottom: 2px solid transparent;
  transition: color 0.2s, border-bottom-color 0.2s;
}

.tab-button:hover {
  color: var(--primary-color); /* 호버 시 색상 변경 */
}

.tab-button.active {
  color: var(--primary-color); /* 활성 탭 색상 */
  border-bottom-color: var(--primary-color); /* 활성 탭 하단 강조선 */
  font-weight: 600;
}

.discussion-top-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  gap: 16px;
  flex-wrap: wrap; /* 반응형 대응 */
}

.coin-filter label {
  font-size: 0.9em;
  color: var(--text-secondary-color);
  margin-right: 8px;
}

.coin-filter select {
  padding: 8px 12px;
  border: 1px solid var(--input-border-color);
  border-radius: 6px;
  font-size: 0.9em;
  background-color: var(--input-bg-color);
  color: var(--text-color);
  min-width: 150px;
}

.search-box {
  display: flex;
  flex-grow: 1;
  max-width: 400px;
}

.search-box input[type="text"] {
  padding: 8px 12px;
  border: 1px solid var(--input-border-color);
  border-radius: 6px 0 0 6px;
  font-size: 0.9em;
  flex-grow: 1;
  border-right: none;
  background-color: var(--input-bg-color);
  color: var(--text-color);
}
.search-box input[type="text"]:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px var(--primary-focus-shadow-color);
  outline: none;
}

.search-box button {
  padding: 8px 12px;
  border: 1px solid var(--primary-color);
  background-color: var(--primary-color);
  color: white;
  border-radius: 0 6px 6px 0;
  cursor: pointer;
  transition: background-color 0.2s;
}
.search-box button:hover {
  background-color: var(--primary-hover-color);
}
.search-box button svg {
  fill: white;
  vertical-align: middle;
}

.write-button { /* 네이버 그린 계열 또는 accent color 사용 */
  padding: 8px 16px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.9em;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
}
.write-button:hover {
  background-color: #00b350; /* accent-color의 어두운 버전 */
}
body.dark-mode .write-button:hover { /* 다크모드에서는 이미 정의됨 */
  background-color: #009943;
}
.write-button svg {
  width: 16px;
  height: 16px;
}

.posts-area { margin-bottom: 25px; } /* 기존 코드에서 유지 */
.posts-list {
  list-style: none;
  padding: 0;
  margin: 0; /* 네이버 웍스 스타일에서는 margin:0 명시 */
  display: flex; /* 기존 코드에서 유지 */
  flex-direction: column; /* 기존 코드에서 유지 */
  gap: 16px; /* 카드 간 간격 조정 */
}

.post-item {
  background-color: var(--card-bg-color); /* 카드는 기본 카드 배경 */
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px; /* 패딩 조정 */
  transition: box-shadow 0.2s ease-in-out;
  cursor: pointer;
}
.post-item:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.08); /* 라이트 모드 호버 그림자 */
}
body.dark-mode .post-item:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* 다크 모드 호버 그림자 (위에서 정의됨) */
}


.post-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
}

.post-author-info {
  display: flex;
  align-items: center;
}

.post-author-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: var(--background-color); /* 페이지 배경 또는 연한 회색 */
  color: var(--text-secondary-color);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.9em;
  margin-right: 10px;
}

.post-author-name-date {
  display: flex;
  flex-direction: column;
}

.post-author-name {
  font-size: 0.9em;
  font-weight: 600;
  color: var(--text-color);
}

.post-date {
  font-size: 0.8em;
  color: var(--text-tertiary-color);
}

.post-card-header-right {
  display: flex;
  gap: 8px;
  align-items: center;
}

.prediction-tag {
  font-size: 0.75em;
  padding: 3px 8px;
  border-radius: 12px;
  font-weight: 500;
  color: #fff; /* 기본 텍스트 흰색, 배경색으로 구분 */
}
.prediction-tag.상승 { background-color: var(--profit-color); }
.prediction-tag.하락 { background-color: var(--loss-color); }
.prediction-tag.중립 { background-color: var(--text-tertiary-color); color: var(--background-color); } /* 중립은 반전 */

body.dark-mode .prediction-tag.상승 { background-color: var(--profit-color); color: #fff; } /* 다크모드 색상 명확히 */
body.dark-mode .prediction-tag.하락 { background-color: var(--loss-color); color: #fff; }
body.dark-mode .prediction-tag.중립 { background-color: var(--text-tertiary-color); color: var(--card-bg-color); }


.post-item-coin-tag {
  font-size: 0.75em;
  padding: 3px 8px;
  border-radius: 12px; /* 좀 더 부드럽게 */
  background-color: var(--input-bg-color); /* 입력 필드 배경과 유사하게 */
  color: var(--text-secondary-color);
  font-weight: 500;
}

.post-card-body .post-title {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-color);
  margin-bottom: 8px;
  line-height: 1.4;
  /* 말줄임표는 기존 유지 */
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden; text-overflow: ellipsis;
}

.post-card-body .post-excerpt {
  font-size: 0.9em;
  color: var(--text-secondary-color);
  line-height: 1.6;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* 네이버는 보통 2줄 요약 */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  max-height: calc(1.6em * 2); /* line-height * 줄 수 */
  margin-bottom: 0; /* 푸터와 간격은 푸터의 margin-top으로 */
}

.post-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid var(--border-color);
  font-size: 0.85em;
  color: var(--text-tertiary-color);
}

.post-stats span {
  margin-right: 12px;
  display: inline-flex;
  align-items: center;
}
.post-stats svg {
  width: 14px;
  height: 14px;
  fill: var(--text-tertiary-color);
  margin-right: 4px;
}

.post-actions .action-button {
  background: none;
  border: none;
  color: var(--text-tertiary-color);
  cursor: pointer;
  padding: 6px;
  font-size: 0.9em;
  display: inline-flex;
  align-items: center;
  transition: color 0.2s; /* 호버 효과 부드럽게 */
}
.post-actions .action-button:hover {
  color: var(--primary-color); /* 아이콘 색상만 변경되도록 */
}
.post-actions .action-button:hover svg {
  fill: var(--primary-color);
}
.post-actions .action-button svg {
  width: 16px;
  height: 16px;
  fill: var(--text-tertiary-color);
  margin-right: 4px;
  transition: fill 0.2s;
}

.pagination {
  margin-top: 24px;
  text-align: center;
}
.pagination a {
  color: var(--text-secondary-color);
  padding: 8px 12px;
  text-decoration: none;
  border: 1px solid var(--input-border-color);
  border-radius: 4px;
  margin: 0 4px;
  font-size: 0.9em;
  transition: background-color 0.2s, color 0.2s;
}
.pagination a:hover {
  background-color: var(--background-color); /* 페이지 배경색으로 호버 */
  color: var(--primary-color);
}
.pagination a.active {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
  font-weight: 600;
}

.filter-message {
  text-align: center;
  padding: 40px 20px;
  background-color: var(--background-color); /* 페이지 배경과 유사하게 */
  border-radius: 8px;
  color: var(--text-secondary-color);
  font-size: 0.95em;
  border: 1px dashed var(--border-color);
}


/* ========================================================================== */
/* === 글쓰기 폼 모달 - 네이버 웍스 스타일 개선 === */
/* ========================================================================== */
.write-form-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1100;
}

.write-form {
  background-color: var(--card-bg-color);
  padding: 24px;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  width: 90%;
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
}

.write-form h3 {
  font-size: 1.4em;
  color: var(--text-color);
  margin-bottom: 20px;
  font-weight: 600;
  text-align: center;
}

.write-form label {
  font-size: 0.9em;
  font-weight: 500;
  color: var(--text-secondary-color);
  display: block;
  margin-bottom: 6px;
}

.write-form select,
.write-form input[type="text"],
.write-form textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--input-border-color);
  border-radius: 6px;
  font-size: 0.95em;
  margin-bottom: 16px;
  background-color: var(--input-bg-color);
  color: var(--text-color);
}
.write-form select:focus,
.write-form input[type="text"]:focus,
.write-form textarea:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px var(--primary-focus-shadow-color);
  outline: none;
}

.write-form textarea {
  min-height: 120px;
  resize: vertical;
}

.write-form .form-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
}

.write-form .form-buttons button {
  padding: 9px 18px;
  border: none;
  border-radius: 6px;
  font-size: 0.9em;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.write-form .form-buttons .cancel-button {
  background-color: var(--disabled-bg-color); /* 비활성 배경색 활용 */
  color: var(--text-secondary-color);
  border: 1px solid var(--input-border-color); /* 테두리 추가 */
}
.write-form .form-buttons .cancel-button:hover {
  background-color: var(--border-color); /* 약간 더 어둡게 */
}
body.dark-mode .write-form .form-buttons .cancel-button:hover {
  background-color: #5a5f73; /* 다크모드 호버 */
}


.write-form .form-buttons .submit-button {
  background-color: var(--primary-color);
  color: white;
}
.write-form .form-buttons .submit-button:hover {
  background-color: var(--primary-hover-color);
}


/* ========================================================================== */
/* === 게시글 상세 페이지 (PostDetail.js) 스타일 === */
/* ========================================================================== */
.post-detail-page-wrapper {
  max-width: 900px; margin: 25px auto; padding: 20px;
}
.post-detail-page-wrapper .error-message {
  text-align: center; font-size: 1.2em; color: var(--loss-color); padding: 30px;
  background-color: var(--card-bg-color); border-radius: 8px; box-shadow: var(--card-shadow);
}
.back-to-list-button {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 10px 18px; margin-bottom: 20px;
  background-color: var(--input-bg-color); color: var(--text-secondary-color);
  border: 1px solid var(--input-border-color); border-radius: 6px;
  font-weight: 500; font-size: 0.9em; cursor: pointer;
  transition: background-color 0.2s, border-color 0.2s;
}
.back-to-list-button:hover { background-color: var(--border-color); border-color: var(--input-border-color); }
.back-to-list-button.bottom { margin-top: 30px; }
.post-detail-container {
  background-color: var(--card-bg-color); border-radius: 12px;
  padding: 30px 35px; box-shadow: var(--card-shadow);
}
.post-detail-header {
  border-bottom: 1px solid var(--border-color); padding-bottom: 20px; margin-bottom: 25px;
}
.post-detail-coin-tag {
  display: inline-block; background-color: var(--primary-color); color: white;
  padding: 6px 12px; border-radius: 15px; font-size: 0.85em; font-weight: 500;
  margin-bottom: 12px; cursor: pointer; transition: background-color 0.2s;
}
.post-detail-coin-tag:hover { background-color: var(--primary-hover-color); }
.post-detail-title {
  font-size: 2em; font-weight: 700; color: var(--text-color);
  line-height: 1.3; margin-bottom: 15px;
}
.post-detail-meta {
  display: flex; align-items: center; flex-wrap: wrap;
  gap: 10px 20px; font-size: 0.9em; color: var(--text-secondary-color);
}
.post-detail-meta .post-author-avatar.detail-avatar { width: 32px; height: 32px; font-size: 0.9em; }
.post-detail-meta .post-author-name { font-weight: 500; color: var(--text-color); } /* 작성자 이름은 기본 텍스트 색상 */
.post-detail-meta .post-date,
.post-detail-meta .post-views { display: inline-flex; align-items: center; }
.post-detail-meta .post-views svg { margin-right: 5px; opacity: 0.7; }
.post-detail-meta .prediction-tag.detail-tag { padding: 4px 10px; font-size: 0.8em; }
.post-detail-content {
  font-size: 1.05em; line-height: 1.8; color: var(--text-color);
  margin-bottom: 30px; word-break: keep-all; overflow-wrap: break-word;
}
.post-detail-actions {
  margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color);
  display: flex; gap: 10px;
}
.comments-section {
  margin-top: 40px; padding-top: 30px; border-top: 1px solid var(--border-color);
}
.comments-section h3 {
  font-size: 1.4em; font-weight: 600; margin-bottom: 20px; color: var(--text-color);
}
.comment-form textarea {
  width: 100%; padding: 12px 15px; border: 1px solid var(--input-border-color);
  border-radius: 6px; font-size: 0.95em; margin-bottom: 10px;
  min-height: 80px; resize: vertical;
  background-color: var(--input-bg-color); color: var(--text-color);
}
.comment-form button[type="submit"] {
  display: block; margin-left: auto; padding: 10px 20px;
  background-color: var(--primary-color); color: white; border: none;
  border-radius: 6px; font-weight: 500; font-size: 0.9em; cursor: pointer;
}
.comment-form button[type="submit"]:hover { background-color: var(--primary-hover-color); }
.comments-list {
  list-style: none; padding: 0; margin-top: 25px;
}
.comments-list .no-comments {
    color: var(--text-secondary-color); padding: 20px 0; text-align: center; font-style: italic;
}
.comment-item { padding: 15px 0; border-bottom: 1px solid var(--border-color); }
.comment-item:last-child { border-bottom: none; }
.comment-author-info {
  display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 0.9em;
}
.comment-author-info .post-author-avatar.comment-avatar { width: 28px; height: 28px; font-size: 0.8em; }
.comment-content { font-size: 0.95em; line-height: 1.6; color: var(--text-secondary-color); }


/* ========================================================================== */
/* === 전역 스피너 스타일 === */
/* ========================================================================== */
.spinner-sm, .spinner-lg {
  display: inline-block;
  border: .25em solid currentColor; /* currentColor 사용으로 색상 유연하게 */
  border-right-color: transparent;
  border-radius: 50%;
  animation: spinner-border .75s linear infinite;
  vertical-align: text-bottom;
}

.spinner-sm {
  width: 1rem;
  height: 1rem;
  border-width: .2em;
}

.spinner-lg {
  width: 2rem;
  height: 2rem;
  border-width: .25em;
}

@keyframes spinner-border {
  to { transform: rotate(360deg); }
}


/* ========================================================================== */
/* === 반응형 스타일 === */
/* ========================================================================== */
@media (max-width: 900px) {
  .main-content {
    flex-direction: column; width: 95%; margin: 15px auto; align-items: stretch;
  }
  .left-panel, .right-panel {
    flex: none; width: 100%; position: static; height: auto;
    overflow: visible;
  }
  .left-panel { padding: 20px; }
  .left-panel h3 { padding: 0 0 15px 0; }
  .coin-list-container { padding: 0; overflow-y: visible; }
  .analysis-note, .cta-buttons { padding-left: 0; padding-right: 0; }

  .navbar .container { flex-direction: column; gap: 10px; }
  .nav-links { gap: 15px; flex-wrap: wrap; justify-content: center; }
  .logo { font-size: 1.4em; }
  #app { padding-top: 130px; } /* navbar 높이 변경에 따라 조정 */
  .fear-greed-content { flex-direction: column; align-items: stretch; }
  .fear-greed-info { order: 1; flex-basis: auto; width: 100%; margin-bottom: 20px; padding-right: 0; }
  .fear-greed-graph { order: 2; flex-basis: auto; width: 100%;
  }
  /* 시뮬레이션 페이지 반응형 */
  .simulation-form-container .form-grid {
    grid-template-columns: 1fr; /* 작은 화면에서는 1열로 */
  }
}

@media (max-width: 600px) {
  .market-cap-header, .fear-greed-header {
    flex-direction: column; align-items: flex-start; gap: 5px;
  }
  .market-cap-value-container, .fear-greed-current-value-status {
    text-align: left; width: 100%;
  }
  .logo { font-size: 1.2em; }
  .nav-links a { font-size: 0.9em; }
  .search-login { flex-direction: column; width: 100%; gap: 8px; }
  .search-login input[type="text"], .search-login button { width: 100%; }
  #app { padding-top: 190px; } /* navbar 높이 변경에 따라 조정 */
  .login-form-container {
    padding: 30px 25px;
    margin: 0 10px;
  }
  .login-form-title { font-size: 1.8em; }
  /* 시뮬레이션 페이지 버튼 */
  .simulation-button {
    max-width: 100%; /* 작은 화면에서는 버튼 너비 확장 */
  }
  /* 토론방 글쓰기 버튼 등 */
  .discussion-top-controls .write-button {
    width: 100%; /* 작은 화면에서 버튼 너비 확장 */
    justify-content: center;
  }
}

@media (max-width: 1300px) {
  .coin-detail-page-wrapper { flex-direction: column; }
  .coin-detail-sticky-left-panel {
    position: static; width: 100%; height: auto;
    overflow-y: visible; flex-basis: auto; margin-bottom: 20px;
  }
  .coin-detail-right-content-area { flex-direction: column; width: 100%; }
  .coin-chart-column, .other-assets-column, .news-column-detail {
    width: 100%; flex-basis: auto !important; height: auto;
  }
  .other-assets-column {
     flex-direction: column;
     height: auto;
  }
  .combined-chart-area-moved,
  .usd-krw-chart-area-moved,
  .gold-price-chart-area-moved,
  .news-column-detail .news-posts-vertical-stack {
     min-height: 300px;
     height: auto;
     overflow-y: visible;
  }
}

@media (max-width: 768px) {
  .coin-detail-page-wrapper { padding: 0 10px; gap: 15px; margin-top: 15px; margin-bottom: 15px; }
  .coin-detail-sticky-left-panel { padding: 15px; gap: 15px; }
  .coin-detail-sticky-left-panel .coin-detail-header h2 { font-size: 1.3em; }
  .coin-detail-sticky-left-panel .coin-detail-price { font-size: 1.1em; }
  .combined-chart-area-moved,
  .usd-krw-chart-area-moved,
  .gold-price-chart-area-moved,
  .news-column-detail .news-posts-vertical-stack {
    padding: 15px;
  }
  .combined-chart-area-moved .price-chart-container,
  .combined-chart-area-moved .indicator-chart-container {
    min-height: 250px;
  }
  .combined-chart-area-moved .indicator-chart-container { margin-top: 15px; padding-top: 15px; }
  .discussion-top-controls { flex-direction: column; align-items: stretch; }
  .search-box { max-width: none; }
  .post-detail-title { font-size: 1.6em; }
  .comments-section h3 { font-size: 1.2em; }
}

